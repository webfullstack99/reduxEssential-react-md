{"version":3,"sources":["app/Navbar.js","features/home/home.component.js","shared/config.js","features/posts/postsSlice.js","features/posts/post_author.component.js","features/posts/ReactionButtonComponent.js","features/posts/post_list.component.js","features/posts/post_form.component.js","features/posts/post_index.component.js","features/posts/TimeAgoComponent.js","features/posts/single_post_page.component.js","App.js","features/users/usersSlice.js","app/store.js","index.js"],"names":["Navbar","props","getCurrentPage","page","pathName","history","location","pathname","pattern","RegExp","matchResult","match","getActivePageClassIfIsActive","state","activePage","className","this","to","Component","withRouter","HomeComponent","React","mainApiDomain","asyncThunks","fetchPosts","createAsyncThunk","a","Axios","get","response","data","addNewPost","initialPost","post","editPost","put","_id","addReactions","thunkApi","postId","reaction","existingPost","getState","posts","find","undefined","reactions","deletePost","delete","postsSlice","createSlice","name","initialState","status","error","reducers","extraReducers","pending","action","fulfilled","concat","payload","rejected","message","unshift","title","description","userId","index","findIndex","splice","getPostById","id","PostAuthorComponent","user","users","username","connect","ownProps","ReactionButtonComponent","onReactionClick","reactionName","params","addReaction","reactionEmoji","thumbsUp","hooray","heart","rocket","eyes","Object","entries","map","emoji","count","key","type","onClick","getReactionButtons","dispatch","PostsListComponent","onDeletePostClicked","window","confirm","NotificationManager","success","getDisplayPosts","slice","sort","b","created","localeCompare","renderedPosts","Date","now","substring","content","length","showContent","fetchPost","PostFormComponent","componentDidUpdate","listPost","formType","setState","editingItem","onTitleChanged","e","target","value","onDescriptionChanged","onSubmitted","$event","preventDefault","isFormValid","onAdd","onEdit","addPost","resetForm","onUserSelectChanged","trim","options","defaultValue","onChange","disabled","onSubmit","htmlFor","getUserSelectWidget","PostIndexComponent","TimeAgoComponent","timeAgo","timestamp","date","parseISO","timePeriod","formatDistanceToNow","getTime","SinglePostPageComponent","AppComponent","console","log","exact","path","component","PostIndex","fetchUsers","userSlice","configureStore","reducer","postReducer","userReducer","store","ReactDOM","render","basename","process","App","document","getElementById"],"mappings":"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","file":"static/js/main.3455dc2a.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { withRouter } from 'react-router-dom'\r\n\r\nclass Navbar extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            activePage: this.getCurrentPage(),\r\n        }\r\n\r\n    }\r\n\r\n    getCurrentPage = () => {\r\n        let page = '/';\r\n        let pathName = this.props.history.location.pathname;\r\n        if (page !== pathName) {\r\n            let pattern = new RegExp('^\\\\/((?!\\\\/).)+', '');\r\n            let matchResult = pathName.match(pattern);\r\n            if (matchResult) page = matchResult[0];\r\n        }\r\n        return page;\r\n   }\r\n\r\n    getActivePageClassIfIsActive = (page) => {\r\n        return (page === this.state.activePage) ? 'text-primary' : '';\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"navbar navbar-expand navbar-light bg-light justify-content-center\">\r\n                <ul className=\"nav navbar-nav\">\r\n                    <li className=\"nav-item\">\r\n                        <Link className={`nav-link ${this.getActivePageClassIfIsActive('/')}`} to=\"/\"><span>Home</span></Link>\r\n                    </li>\r\n                    <li className=\"nav-item\">\r\n                        <Link className={`nav-link ${this.getActivePageClassIfIsActive('/posts')} `} to=\"/posts\"><span>Posts</span></Link>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Navbar);","import React from 'react';\r\nclass HomeComponent extends React.Component {\r\n    render() {\r\n        return (\r\n            <section>\r\n                <h2>Welcome to the Redux Essentials example app!</h2>\r\n            </section>\r\n        )\r\n    }\r\n}\r\nexport default HomeComponent;","export const mainApiDomain = 'https://ap-webserver.glitch.me';","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { mainApiDomain } from '../../shared/config';\r\n\r\nconst initialState = {\r\n    posts: [],\r\n    status: 'idle',\r\n    error: null,\r\n}\r\n\r\nconst asyncThunks = {\r\n    fetchPosts: createAsyncThunk('posts/fetchPosts', async () => {\r\n        const response = await Axios.get(`${mainApiDomain}/api/posts`);\r\n        return response.data.data\r\n    }),\r\n\r\n    addNewPost: createAsyncThunk('posts/addNewPost', async initialPost => {\r\n        const response = await Axios.post(`${mainApiDomain}/api/posts`, { post: initialPost })\r\n        return response.data.data;\r\n    }),\r\n\r\n    editPost: createAsyncThunk('posts/editPost', async post => {\r\n        const response = await Axios.put(`${mainApiDomain}/api/posts/${post._id}`, { post });\r\n        return response.data.data;\r\n    }),\r\n\r\n    addReactions: createAsyncThunk('posts/addReactions', async (data, thunkApi) => {\r\n        const { postId, reaction } = data;\r\n        let existingPost = thunkApi.getState().posts.posts.find(post => post._id === postId);\r\n        if (existingPost) {\r\n            let reactions = { ...existingPost.reactions };\r\n            if (reactions !== undefined) {\r\n                if (reactions[reaction] !== undefined) {\r\n                    reactions[reaction]++;\r\n                } else {\r\n                    reactions[reaction] = 1;\r\n                }\r\n            } else {\r\n                reactions = { [reaction]: 1 };\r\n            }\r\n            const response = await Axios.put(`${mainApiDomain}/api/posts/addReactions/${postId}`, { reactions });\r\n            return response.data.data;\r\n        }\r\n    }),\r\n\r\n    deletePost: createAsyncThunk('posts/deletePost', async postId => {\r\n        await Axios.delete(`${mainApiDomain}/api/posts/${postId}`);\r\n        return postId;\r\n    })\r\n}\r\n\r\nexport const { fetchPosts, addNewPost, deletePost, editPost, addReactions } = asyncThunks;\r\n\r\n\r\nconst postsSlice = createSlice({\r\n    name: 'posts',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: {\r\n        // LIST\r\n        [asyncThunks.fetchPosts.pending]: (state, action) => {\r\n            state.status = 'loading'\r\n        },\r\n        [asyncThunks.fetchPosts.fulfilled]: (state, action) => {\r\n            state.status = 'succeeded'\r\n            state.posts = state.posts.concat(action.payload)\r\n        },\r\n        [asyncThunks.fetchPosts.rejected]: (state, action) => {\r\n            state.status = 'failed'\r\n            state.error = action.error.message\r\n        },\r\n\r\n        // ADD\r\n        [asyncThunks.addNewPost.fulfilled]: (state, action) => {\r\n            state.posts.unshift(action.payload)\r\n        },\r\n\r\n        // EDIT\r\n        [asyncThunks.editPost.fulfilled]: (state, action) => {\r\n            const post = state.posts.find((post) => {\r\n                return (post._id === action.payload._id);\r\n            })\r\n            post.title = action.payload.title;\r\n            post.description = action.payload.description;\r\n            post.userId = action.payload.userId;\r\n        },\r\n\r\n        // ADD REACTIONS\r\n        [asyncThunks.addReactions.fulfilled]: (state, action) => {\r\n            const post = state.posts.find((post) => {\r\n                return (post._id === action.payload._id);\r\n            })\r\n            post.reactions = action.payload.reactions;\r\n        },\r\n\r\n        [asyncThunks.addReactions.rejected]: (state, action) => {\r\n        },\r\n\r\n        // DELETE\r\n        [asyncThunks.deletePost.fulfilled]: (state, action) => {\r\n            let index = state.posts.findIndex((post) => {\r\n                return (post._id === action.payload);\r\n            })\r\n            state.posts.splice(index, 1);\r\n        }\r\n    }\r\n})\r\n\r\n// SELECTORS\r\nconst selectors = {\r\n    getPostById: (state, id) => {\r\n        const post = state.posts.posts.find((post) => {\r\n            return (`${post._id}` === id);\r\n        })\r\n        return post;\r\n    }\r\n}\r\n\r\n\r\nexport const { getPostById } = selectors;\r\nexport default postsSlice.reducer;","import React from 'react';\r\nimport { connect } from 'react-redux'\r\nclass PostAuthorComponent extends React.Component {\r\n\r\n    render() {\r\n        const user = this.props.users.find((user) => {\r\n            return (user._id === this.props.userId);\r\n        })\r\n        return <span className=\"text-success\">by {user ? user.username : 'Unknown author'}</span>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        users: state.users.users,\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(PostAuthorComponent);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { addReactions } from './postsSlice';\r\nclass ReactionButtonComponent extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            reactionEmoji: {\r\n                thumbsUp: 'ðŸ‘',\r\n                hooray: 'ðŸŽ‰',\r\n                heart: 'â¤ï¸',\r\n                rocket: 'ðŸš€',\r\n                eyes: 'ðŸ‘€'\r\n            }\r\n        };\r\n    }\r\n    onReactionClick = (reactionName) => {\r\n        let params = { postId: this.props.post._id, reaction: reactionName };\r\n       this.props.addReaction(params);\r\n\r\n    }\r\n\r\n    getReactionButtons() {\r\n        const reactionButtons = Object.entries(this.state.reactionEmoji).map(([name, emoji]) => {\r\n            let count = 0;\r\n            if (this.props.post.reactions !== undefined) {\r\n                count = (this.props.post.reactions[name] !== undefined) ? this.props.post.reactions[name] : 0;\r\n            }\r\n            return (\r\n                <button\r\n                    key={name}\r\n                    type=\"button\"\r\n                    className=\"muted-button reaction-button\"\r\n                    onClick={() => { this.onReactionClick(name) }}\r\n                >\r\n                    {emoji} {count}\r\n                </button>\r\n            )\r\n        })\r\n        return reactionButtons;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>{this.getReactionButtons()}</div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        addReaction: (params) => {\r\n            dispatch(addReactions(params));\r\n        }\r\n    }\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(ReactionButtonComponent);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { deletePost, fetchPosts } from './postsSlice';\r\nimport { Link } from 'react-router-dom';\r\nimport PostAuthorComponent from './post_author.component';\r\nimport ReactionButtonComponent from './ReactionButtonComponent';\r\nimport { NotificationManager } from 'react-notifications';\r\n\r\nclass PostsListComponent extends React.Component {\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    onDeletePostClicked = (post) => {\r\n        let r = window.confirm('Do you want to delete this item?');\r\n        if (r) {\r\n            this.props.deletePost(post._id);\r\n            NotificationManager.success('Item deleted');\r\n        }\r\n    }\r\n\r\n    getDisplayPosts = () => {\r\n        let orderedPosts = this.props.posts\r\n            .slice()\r\n            .sort((a, b) => {\r\n                return (-(a.created.localeCompare(b.created)));\r\n            })\r\n        return orderedPosts;\r\n    }\r\n\r\n    renderedPosts = () => {\r\n        let renderedPosts = '';\r\n        renderedPosts = this.getDisplayPosts().map((post, index) => {\r\n\r\n            let key = post._id || Date.now();\r\n            return (\r\n                <article className=\"post-excerpt\" key={key}>\r\n                    <h3><Link to={`/posts/${post._id}`}>{post.title}</Link></h3>\r\n                    <div className=\"post-content\">\r\n                        {post.description.substring(0, 100)}\r\n                    &nbsp;-&nbsp;\r\n                    <PostAuthorComponent userId={post.userId}></PostAuthorComponent>\r\n                        <ReactionButtonComponent post={post}></ReactionButtonComponent>\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={() => { this.onDeletePostClicked(post) }} className=\"btn btn-danger\">Delete</button>\r\n                    </div>\r\n                </article>\r\n            )\r\n        })\r\n        return renderedPosts;\r\n    }\r\n\r\n    showContent() {\r\n        let content = '';\r\n        if (this.props.status === 'succeeded') {\r\n            content = (this.props.posts.length > 0) ? this.renderedPosts() : 'No post to display!';\r\n        } else if (this.props.status === 'loading') {\r\n            content = 'Loading ...';\r\n        } else if (this.props.status === 'failed') {\r\n            content = 'Something went wrong!';\r\n        }\r\n        return content;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section className=\"posts-list\">\r\n                <h2>Posts</h2>\r\n                {this.showContent()}\r\n            </section>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        posts: state.posts.posts,\r\n        status: state.posts.status,\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        deletePost: (id) => {\r\n            dispatch(deletePost(id));\r\n        },\r\n        fetchPost: () => {\r\n            dispatch(fetchPosts());\r\n        }\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PostsListComponent);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { getPostById, addNewPost, editPost } from './postsSlice'\r\nimport { withRouter } from 'react-router-dom';\r\nimport { NotificationManager } from 'react-notifications';\r\n\r\nclass PostFormComponent extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            formType: 'add',\r\n            title: '',\r\n            description: '',\r\n            userId: '',\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        this.listPost();\r\n    }\r\n\r\n    componentDidUpdate = () => {\r\n        this.listPost();\r\n    }\r\n\r\n    listPost = () => {\r\n        if (this.props.post && this.props.match?.params.postId && this.state.formType === 'add') {\r\n            const post = this.props.post;\r\n            if (this.props.post) {\r\n                this.setState({\r\n                    formType: 'edit',\r\n                    id: post.id,\r\n                    title: post.title,\r\n                    description: post.description,\r\n                    userId: post.userId,\r\n                    editingItem: post,\r\n                })\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n    onTitleChanged = e => this.setState({ title: e.target.value });\r\n\r\n    onDescriptionChanged = e => this.setState({ description: e.target.value });\r\n\r\n    onSubmitted = ($event) => {\r\n        $event.preventDefault();\r\n        if (this.isFormValid()) {\r\n            if (this.state.formType === 'add') this.onAdd()\r\n            else this.onEdit();\r\n        }\r\n    }\r\n\r\n    onEdit = () => {\r\n        const { title, description, userId } = this.state;\r\n        this.props.editPost({ _id: this.props.match.params.postId, title, description, userId });\r\n        NotificationManager.success('Item updated');\r\n    }\r\n\r\n    onAdd = () => {\r\n        const { title, description, userId } = this.state;\r\n        this.props.addPost({ title, description, userId });\r\n        NotificationManager.success('Item inserted');\r\n        this.resetForm();\r\n    }\r\n\r\n    resetForm = () => {\r\n        this.setState({\r\n            title: '',\r\n            description: '',\r\n            userId: '',\r\n        })\r\n    }\r\n\r\n    onUserSelectChanged = ($event) => {\r\n        let value = $event.target.value;\r\n        this.setState({\r\n            userId: value\r\n        });\r\n    }\r\n\r\n    getUserSelectWidget() {\r\n        let options = this.props.users.map((user) => {\r\n            return (\r\n                <option key={user._id} value={user._id}>{user.username}</option>\r\n            )\r\n        })\r\n        let defaultValue = this.state.userId || 'default';\r\n        return (\r\n            <div className=\"form-group\">\r\n                <select className=\"custom-select\" value={defaultValue} name=\"\" id=\"\" onChange={this.onUserSelectChanged}>\r\n                    <option disabled value=\"default\">Select user</option>\r\n                    {options}\r\n                </select>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    isFormValid = () => {\r\n        let { title, description, userId } = this.state;\r\n        title = title.trim();\r\n        description = description.trim();\r\n        const editingItem = this.state.editingItem;\r\n        return (\r\n            (\r\n                title !== '' &&\r\n                description !== '' &&\r\n                userId !== ''\r\n            ) &&\r\n            (\r\n                title !== editingItem?.title ||\r\n                description !== editingItem?.description ||\r\n                userId !== editingItem?.userId\r\n            )\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <section>\r\n                <h2>Add a New Post</h2>\r\n                <form onSubmit={this.onSubmitted}>\r\n                    <label htmlFor=\"postTitle\">Post Title:</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"postTitle\"\r\n                        name=\"postTitle\"\r\n                        value={this.state.title}\r\n                        onChange={this.onTitleChanged}\r\n                    />\r\n                    <label htmlFor=\"postContent\">Post Description:</label>\r\n                    <textarea\r\n                        id=\"postDescription\"\r\n                        name=\"postDescription\"\r\n                        value={this.state.description}\r\n                        onChange={this.onDescriptionChanged}\r\n                    />\r\n\r\n                    {/* USER SELECT WIDGET */}\r\n                    <label htmlFor=\"postTitle\">Created user:</label>\r\n                    {this.getUserSelectWidget()}\r\n\r\n                    <button disabled={!this.isFormValid()} type=\"submit\">Save Post</button>\r\n                </form>\r\n            </section>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        post: getPostById(state, ownProps.match?.params?.postId),\r\n        users: state.users.users,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n    return {\r\n        addPost: (initialPost) => {\r\n            dispatch(addNewPost(initialPost));\r\n        },\r\n        editPost: (post) => {\r\n            dispatch(editPost(post));\r\n\r\n        },\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(PostFormComponent))","import React from 'react';\r\nimport PostListComponent from './post_list.component';\r\nimport PostFormComponent from './post_form.component';\r\nclass PostIndexComponent extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container my-3\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-8 order-2 order-lg-1\">\r\n                        <PostListComponent></PostListComponent>\r\n                    </div>\r\n                    <div className=\"col-lg-4 order-1 order-lg-2\">\r\n                        <PostFormComponent></PostFormComponent>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\nexport default PostIndexComponent;","import React from 'react';\r\nimport { formatDistanceToNow, parseISO } from 'date-fns'\r\nimport { connect } from 'react-redux'\r\nclass TimeAgoComponent extends React.Component {\r\n\r\n    getTime() {\r\n        let timeAgo = ''\r\n        if (this.props.timestamp) {\r\n            const date = parseISO(this.props.timestamp)\r\n            const timePeriod = formatDistanceToNow(date)\r\n            timeAgo = `${timePeriod} ago`\r\n        }\r\n        return timeAgo;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <span>\r\n                &nbsp; <i>{this.getTime()}</i>\r\n            </span>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        users: state.users,\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(TimeAgoComponent);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport PostAuthorComponent from './post_author.component';\r\nimport TimeAgoComponent from './TimeAgoComponent';\r\nimport { getPostById } from './postsSlice';\r\nclass SinglePostPageComponent extends React.Component {\r\n\r\n    render() {\r\n        const post = this.props.post;\r\n        if (post) {\r\n            return (\r\n                <section>\r\n                    <article className=\"post\">\r\n                        <h2>{post.title}</h2>\r\n                        <p className=\"post-content\">{post.description}</p>\r\n                        <p>\r\n                            <PostAuthorComponent userId={post.userId}></PostAuthorComponent>\r\n                            <TimeAgoComponent timestamp={post.created}></TimeAgoComponent>\r\n                        </p>\r\n                        <div>\r\n                            <Link to={`/posts/form/${post._id}`}>Edit</Link>\r\n                        </div>\r\n                    </article>\r\n                </section>\r\n            )\r\n        } else {\r\n            if (!post) {\r\n                return (\r\n                    <section>\r\n                        <h2>Post not found!</h2>\r\n                    </section>\r\n                )\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        post: getPostById(state, ownProps.match.params.postId)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SinglePostPageComponent);","import React from 'react'\r\nimport {\r\n    Route,\r\n    Redirect,\r\n    Switch,\r\n} from 'react-router-dom'\r\n\r\nimport Navbar from './app/Navbar'\r\nimport HomeComponent from './features/home/home.component'\r\nimport PostIndex from './features/posts/post_index.component'\r\nimport SinglePostPageComponent from './features/posts/single_post_page.component'\r\nimport PostFormComponent from './features/posts/post_form.component'\r\nimport { NotificationContainer } from 'react-notifications';\r\nimport 'react-notifications/lib/notifications.css';\r\nimport { mainApiDomain } from './shared/config'\r\n\r\n\r\nclass AppComponent extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        console.log(`api domain: ${mainApiDomain}`);\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"App\">\r\n                {/* NAVBAR */}\r\n                <Navbar></Navbar>\r\n\r\n                <Switch>\r\n                    {/* HOME */}\r\n                    <Route\r\n                        exact\r\n                        path=\"/\"\r\n                        component={HomeComponent}\r\n                    />\r\n\r\n                    {/* POSTS */}\r\n                    <Route\r\n                        exact\r\n                        path=\"/posts\"\r\n                        component={PostIndex}\r\n                    />\r\n\r\n                    {/* SINGLE POST */}\r\n                    <Route\r\n                        exact\r\n                        path=\"/posts/:postId\"\r\n                        component={SinglePostPageComponent}\r\n                    />\r\n                    <Route\r\n                        exact\r\n                        path=\"/posts/form/:postId\"\r\n                        component={PostFormComponent}\r\n                    />\r\n\r\n                    {/* DEFAULT */}\r\n                    <Redirect to=\"/posts\" />\r\n                </Switch>\r\n                <NotificationContainer></NotificationContainer>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default AppComponent\r\n","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { mainApiDomain } from '../../shared/config';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    status: 'idle',\r\n    error: null,\r\n}\r\n\r\nexport const fetchUsers = createAsyncThunk('users/fetchUsers', async () => {\r\n    const response = await Axios.get(`${mainApiDomain}/api/users`);\r\n    return response.data.data\r\n})\r\n\r\nconst userSlice = createSlice({\r\n    name: 'users',\r\n    initialState,\r\n    extraReducers: {\r\n        [fetchUsers.pending]: (state, action) => {\r\n            state.status = 'loading'\r\n        },\r\n        [fetchUsers.fulfilled]: (state, action) => {\r\n            state.status = 'succeeded'\r\n            state.users = state.users.concat(action.payload)\r\n        },\r\n        [fetchUsers.rejected]: (state, action) => {\r\n            state.status = 'failed'\r\n            state.error = action.error.message\r\n        }\r\n    }\r\n})\r\nexport default userSlice.reducer;\r\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport postReducer from '../features/posts/postsSlice'\r\nimport userReducer from '../features/users/usersSlice'\r\n\r\n\r\nexport default configureStore({\r\n    reducer: {\r\n        posts: postReducer,\r\n        users: userReducer,\r\n    }\r\n})\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport store from './app/store'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport './api/server'\r\nimport { fetchUsers } from './features/users/usersSlice'\r\nimport { fetchPosts } from './features/posts/postsSlice'\r\nimport { BrowserRouter as Router, HashRouter } from 'react-router-dom'\r\n\r\nstore.dispatch(fetchPosts());\r\nstore.dispatch(fetchUsers());\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <HashRouter basename={process.env.PUBLIC_URL}>\r\n            <App />\r\n        </HashRouter>\r\n    </Provider>,\r\n    document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}